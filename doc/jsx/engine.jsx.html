<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<base href=".." />
<link rel="stylesheet" href="style.css" type="text/css" />
<style type="text/css">
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
}
#body {
    margin: 0px auto;
    width: 800px;
    border: 1px solid #ccc;
}
#footer {
    border-top: 1px solid #ccc;
    padding: 1em 0;
    text-align: center;
}
</style>
<title>jsx/engine.jsx - JSXDoc</title>
</head>
<body>
<div id="body">
<div class="jsxdoc">
<div class="file">
<h1>jsx/engine.jsx</h1>
<div class="description">座標系は左手座標系 ポリゴンの座標は、視点から見て反時計回りに指定する</div>
</div>
<div class="classes">
<div class="class" id="class-Math2D">
<h2> class Math2D</h2>
<div class="description">
二次元平面での汎用関数をまとめたクラス
</div>
<div class="member function">
<h3>
new Math2D()
</h3>

</div>
<div class="member function">
<h3>
static function cross(x1 : number, y1 : number, x2 : number, y2 : number)
 : number
</h3>

</div>
</div>
<div class="class" id="class-Stopwatch">
<h2> class Stopwatch</h2>
<div class="description">
時間計測を行うタイマークラス
</div>
<div class="member function">
<h3>
new Stopwatch()
</h3>

</div>
<div class="member function">
<h3>
 function start()
 : void
</h3>

</div>
<div class="member function">
<h3>
 function stop()
 : void
</h3>

</div>
<div class="member function">
<h3>
 function isStarted()
 : boolean
</h3>

</div>
<div class="member function">
<h3>
 function isStopped()
 : boolean
</h3>

</div>
<div class="member function">
<h3>
 function lap()
 : number
</h3>

</div>
<div class="member function">
<h3>
 function getElapsedMsec()
 : number
</h3>

</div>
</div>
<div class="class" id="class-FpsManager">
<h2> class FpsManager</h2>
<div class="description">
ゲームでの１秒辺りのフレームの更新回数を計測するクラス
</div>
<div class="member function">
<h3>
new FpsManager()
</h3>

</div>
<div class="member function">
<h3>
new FpsManager(spanId : string)
</h3>

</div>
<div class="member function">
<h3>
 function start()
 : void
</h3>

</div>
<div class="member function">
<h3>
 function lastLap()
 : number
</h3>

</div>
<div class="member function">
<h3>
 function update()
 : void
</h3>

</div>
</div>
<div class="class" id="class-Engine">
<h2> class Engine</h2>
<div class="description">
擬似3Dを実現するためのゲームエンジンクラス
</div>
<div class="member property">
<h3>
 var isMobile : boolean
</h3>

</div>
<div class="member property">
<h3>
 var canvas : HTMLCanvasElement
</h3>

</div>
<div class="member property">
<h3>
 var ctx : CanvasRenderingContext2D
</h3>

</div>
<div class="member property">
<h3>
 var width : number
</h3>

</div>
<div class="member property">
<h3>
 var height : number
</h3>

</div>
<div class="member property">
<h3>
 var camera : <a href="jsx/engine.jsx.html#class-Camera">Camera</a>
</h3>

</div>
<div class="member property">
<h3>
 var screenMatrix : <a href="jsx/matrix.jsx.html#class-Matrix">Matrix</a>
</h3>

</div>
<div class="member property">
<h3>
 var transformationMatrix : <a href="jsx/matrix.jsx.html#class-Matrix">Matrix</a>
</h3>

</div>
<div class="member property">
<h3>
 var objects : Array.&lt;<a href="jsx/engine.jsx.html#class-AbstractModel">AbstractModel</a>&gt;
</h3>

</div>
<div class="member property">
<h3>
 var onUpdate : function (:number) : void
</h3>

</div>
<div class="member property">
<h3>
 var onRender : function (:<a href="jsx/engine.jsx.html#class-Context3D">Context3D</a>, :number) : void
</h3>

</div>
<div class="member property">
<h3>
 var skyImageSrc : Nullable.&lt;string&gt;
</h3>

</div>
<div class="member property">
<h3>
 var skyImage : HTMLImageElement
</h3>

</div>
<div class="member property">
<h3>
static var images : Map.&lt;HTMLImageElement&gt;
</h3>

</div>
<div class="member property">
<h3>
static var imageDatas : Map.&lt;ImageData&gt;
</h3>

</div>
<div class="member property">
<h3>
static var isLoadedImage : Map.&lt;boolean&gt;
</h3>

</div>
<div class="member function">
<h3>
new Engine(canvasId : string)
</h3>

</div>
<div class="member function">
<h3>
static function loadImages(srcs : Array.&lt;string&gt;)
 : void
</h3>

</div>
<div class="member function">
<h3>
 function setSkyImage(src : string)
 : void
</h3>

</div>
<div class="member function">
<h3>
 function addModel(o : <a href="jsx/engine.jsx.html#class-AbstractModel">AbstractModel</a>)
 : void
</h3>

</div>
<div class="member function">
<h3>
 function start()
 : void
</h3>

</div>
<div class="member function">
<h3>
 function renderSkyImage()
 : void
</h3>

</div>
<div class="member function">
<h3>
 function setScreenMatrix(width : number, height : number)
 : void
</h3>

</div>
<div class="member function">
<h3>
 function updateMatrix()
 : void
</h3>

</div>
</div>
<div class="class" id="class-Context3D">
<h2> class Context3D</h2>
<div class="description">
3DのRenderingContextクラス
</div>
<div class="member property">
<h3>
 var worldMatrix : <a href="jsx/matrix.jsx.html#class-Matrix">Matrix</a>
</h3>

</div>
<div class="member property">
<h3>
 var matrixStack : <a href="jsx/list.jsx.html#class-List">List</a>.&lt;<a href="jsx/matrix.jsx.html#class-Matrix">Matrix</a>&gt;
</h3>

</div>
<div class="member property">
<h3>
 var camera : <a href="jsx/engine.jsx.html#class-Camera">Camera</a>
</h3>

</div>
<div class="member property">
<h3>
 var depth : int
</h3>

</div>
<div class="member property">
<h3>
 var modelList1 : <a href="jsx/list.jsx.html#class-List">List</a>.&lt;<a href="jsx/engine.jsx.html#class-AbstractModel">AbstractModel</a>&gt;
</h3>

</div>
<div class="member property">
<h3>
 var modelList2 : <a href="jsx/list.jsx.html#class-List">List</a>.&lt;<a href="jsx/engine.jsx.html#class-AbstractModel">AbstractModel</a>&gt;
</h3>

</div>
<div class="member property">
<h3>
 var modelList3 : <a href="jsx/list.jsx.html#class-List">List</a>.&lt;<a href="jsx/engine.jsx.html#class-AbstractModel">AbstractModel</a>&gt;
</h3>

</div>
<div class="member property">
<h3>
 var modelList4 : <a href="jsx/list.jsx.html#class-List">List</a>.&lt;<a href="jsx/engine.jsx.html#class-AbstractModel">AbstractModel</a>&gt;
</h3>

</div>
<div class="member property">
<h3>
 var modelList5 : <a href="jsx/list.jsx.html#class-List">List</a>.&lt;<a href="jsx/engine.jsx.html#class-AbstractModel">AbstractModel</a>&gt;
</h3>

</div>
<div class="member property">
<h3>
 var polygonList : <a href="jsx/list.jsx.html#class-List">List</a>.&lt;<a href="jsx/engine.jsx.html#class-Polygon">Polygon</a>&gt;
</h3>

</div>
<div class="member property">
<h3>
 var groupCenter : <a href="jsx/vector.jsx.html#class-Vector">Vector</a>
</h3>

</div>
<div class="member property">
<h3>
 var ignoringZHidden : boolean
</h3>

</div>
<div class="member function">
<h3>
new Context3D(camera : <a href="jsx/engine.jsx.html#class-Camera">Camera</a>)
</h3>

</div>
<div class="member function">
<h3>
 function setDepth(depth : int)
 : void
</h3>

</div>
<div class="member function">
<h3>
 function getDepth()
 : int
</h3>

</div>
<div class="member function">
<h3>
 function pushMatrix()
 : void
</h3>

</div>
<div class="member function">
<h3>
 function popMatrix()
 : void
</h3>

</div>
<div class="member function">
<h3>
 function resetMatrix()
 : void
</h3>

</div>
<div class="member function">
<h3>
 function translate(x : number, y : number, z : number)
 : void
</h3>

</div>
<div class="member function">
<h3>
 function scale(x : number, y : number, z : number)
 : void
</h3>

</div>
<div class="member function">
<h3>
 function rotate(q : <a href="jsx/quaternion.jsx.html#class-Quaternion">Quaternion</a>)
 : void
</h3>

</div>
<div class="member function">
<h3>
 function beginGroup(center : <a href="jsx/vector.jsx.html#class-Vector">Vector</a>)
 : void
</h3>

</div>
<div class="member function">
<h3>
 function beginGroup(center : <a href="jsx/vector.jsx.html#class-Vector">Vector</a>, ignoringZHidden : boolean)
 : void
</h3>

</div>
<div class="member function">
<h3>
 function renderPolygonGroup(vertices : Array.&lt;<a href="jsx/vector.jsx.html#class-Vector">Vector</a>&gt;, color : <a href="jsx/engine.jsx.html#class-Color">Color</a>)
 : void
</h3>

</div>
<div class="member function">
<h3>
 function endGroup()
 : void
</h3>

</div>
<div class="member function">
<h3>
 function renderPolygon(vertices : Array.&lt;<a href="jsx/vector.jsx.html#class-Vector">Vector</a>&gt;, color : <a href="jsx/engine.jsx.html#class-Color">Color</a>)
 : void
</h3>

</div>
<div class="member function">
<h3>
 function renderBillboard(center : <a href="jsx/vector.jsx.html#class-Vector">Vector</a>, width : int, height : int, src : string)
 : void
</h3>

</div>
<div class="member function">
<h3>
 function renderTexture(vertices : Array.&lt;<a href="jsx/vector.jsx.html#class-Vector">Vector</a>&gt;, src : string, maxHorDiv : int, maxVerDiv : int, maxDiv : int, minDiv : int)
 : void
</h3>

</div>
<div class="member function">
<h3>
 function renderTexture(vertices : Array.&lt;<a href="jsx/vector.jsx.html#class-Vector">Vector</a>&gt;, src : string)
 : void
</h3>

</div>
<div class="member function">
<h3>
 function renderModel(model : <a href="jsx/engine.jsx.html#class-AbstractModel">AbstractModel</a>)
 : void
</h3>

</div>
<div class="member function">
<h3>
 function insertModelByZValue(list : <a href="jsx/list.jsx.html#class-List">List</a>.&lt;<a href="jsx/engine.jsx.html#class-AbstractModel">AbstractModel</a>&gt;, model : <a href="jsx/engine.jsx.html#class-AbstractModel">AbstractModel</a>)
 : void
</h3>

</div>
</div>
<div class="class" id="class-Camera">
<h2> class Camera</h2>
<div class="description">
ワールド座標系上での物の見方を表すカメラクラス
</div>
<div class="member property">
<h3>
 var rotatingMatrix : <a href="jsx/matrix.jsx.html#class-Matrix">Matrix</a>
</h3>

</div>
<div class="member property">
<h3>
 var viewMatrix : <a href="jsx/matrix.jsx.html#class-Matrix">Matrix</a>
</h3>

</div>
<div class="member property">
<h3>
 var projectionMatrix : <a href="jsx/matrix.jsx.html#class-Matrix">Matrix</a>
</h3>

</div>
<div class="member property">
<h3>
 var matrix : <a href="jsx/matrix.jsx.html#class-Matrix">Matrix</a>
</h3>

</div>
<div class="member property">
<h3>
 var view : <a href="jsx/vector.jsx.html#class-Vector">Vector</a>
</h3>

</div>
<div class="member property">
<h3>
 var target : <a href="jsx/vector.jsx.html#class-Vector">Vector</a>
</h3>

</div>
<div class="member property">
<h3>
 var upper : <a href="jsx/vector.jsx.html#class-Vector">Vector</a>
</h3>

</div>
<div class="member property">
<h3>
 var fovyX : number
</h3>

</div>
<div class="member property">
<h3>
 var nearZ : number
</h3>

</div>
<div class="member property">
<h3>
 var farZ : number
</h3>

</div>
<div class="member property">
<h3>
 var aspectRatio : number
</h3>

</div>
<div class="member function">
<h3>
new Camera(view : <a href="jsx/vector.jsx.html#class-Vector">Vector</a>, target : <a href="jsx/vector.jsx.html#class-Vector">Vector</a>, upper : <a href="jsx/vector.jsx.html#class-Vector">Vector</a>, fovyX : number, nearZ : number, farZ : number, aspectRatio : number)
</h3>

</div>
<div class="member function">
<h3>
 function move(v : <a href="jsx/vector.jsx.html#class-Vector">Vector</a>)
 : void
</h3>

</div>
<div class="member function">
<h3>
 function rotateY(rad : number)
 : void
</h3>

</div>
<div class="member function">
<h3>
 function updateMatrix()
 : void
</h3>

</div>
</div>
<div class="class" id="class-Color">
<h2> class Color</h2>

<div class="member property">
<h3>
 var r : int
</h3>

</div>
<div class="member property">
<h3>
 var g : int
</h3>

</div>
<div class="member property">
<h3>
 var b : int
</h3>

</div>
<div class="member function">
<h3>
new Color(r : int, g : int, b : int)
</h3>

</div>
<div class="member function">
<h3>
 function toHexString()
 : string
</h3>

</div>
<div class="member function">
<h3>
override function toString()
 : string
</h3>

</div>
<div class="member function">
<h3>
 function negative()
 : <a href="jsx/engine.jsx.html#class-Color">Color</a>
</h3>

</div>
</div>
<div class="class" id="class-AbstractModel">
<h2>abstract class AbstractModel</h2>
<div class="description">
Engine上で表示するモデルの抽象クラス このクラスを継承するクラスは、draw関数、applyViewMatrix関数、isHidden関数、centerプロパティ、vCenterプロパティ、depthプロパティを実装する必要がある
</div>
<div class="member property">
<h3>
 var center : <a href="jsx/vector.jsx.html#class-Vector">Vector</a>
</h3>

</div>
<div class="member property">
<h3>
 var vCenter : <a href="jsx/vector.jsx.html#class-Vector">Vector</a>
</h3>

</div>
<div class="member property">
<h3>
 var depth : int
</h3>

</div>
<div class="member function">
<h3>
new AbstractModel()
</h3>

</div>
<div class="member function">
<h3>
abstract function applyWorldMatrix(worldMatrix : <a href="jsx/matrix.jsx.html#class-Matrix">Matrix</a>)
 : void
</h3>

</div>
<div class="member function">
<h3>
abstract function applyViewMatrix(viewMatrix : <a href="jsx/matrix.jsx.html#class-Matrix">Matrix</a>)
 : void
</h3>

</div>
<div class="member function">
<h3>
abstract function isHidden(camera : <a href="jsx/engine.jsx.html#class-Camera">Camera</a>)
 : boolean
</h3>

</div>
<div class="member function">
<h3>
abstract function draw(engine : <a href="jsx/engine.jsx.html#class-Engine">Engine</a>)
 : boolean
</h3>

</div>
<div class="member function">
<h3>
static function isHiddenXY(vertices : Array.&lt;<a href="jsx/vector.jsx.html#class-Vector">Vector</a>&gt;, engine : <a href="jsx/engine.jsx.html#class-Engine">Engine</a>)
 : boolean
</h3>

</div>
</div>
<div class="class" id="class-Polygon">
<h2> class Polygon</h2>
<div class="description">
Engineで利用する多角形クラス
</div>
<div class="member property">
<h3>
 var vertices : Array.&lt;<a href="jsx/vector.jsx.html#class-Vector">Vector</a>&gt;
</h3>

</div>
<div class="member property">
<h3>
 var vVertices : Array.&lt;<a href="jsx/vector.jsx.html#class-Vector">Vector</a>&gt;
</h3>

</div>
<div class="member property">
<h3>
 var color : <a href="jsx/engine.jsx.html#class-Color">Color</a>
</h3>

</div>
<div class="member property">
<h3>
 var enabledLighting : boolean
</h3>

</div>
<div class="member function">
<h3>
new Polygon(vertices : Array.&lt;<a href="jsx/vector.jsx.html#class-Vector">Vector</a>&gt;, color : <a href="jsx/engine.jsx.html#class-Color">Color</a>)
</h3>

</div>
<div class="member function">
<h3>
override function applyWorldMatrix(worldMatrix : <a href="jsx/matrix.jsx.html#class-Matrix">Matrix</a>)
 : void
</h3>

</div>
<div class="member function">
<h3>
override function applyViewMatrix(viewMatrix : <a href="jsx/matrix.jsx.html#class-Matrix">Matrix</a>)
 : void
</h3>

</div>
<div class="member function">
<h3>
override function isHidden(camera : <a href="jsx/engine.jsx.html#class-Camera">Camera</a>)
 : boolean
</h3>

</div>
<div class="member function">
<h3>
 function move(v : <a href="jsx/vector.jsx.html#class-Vector">Vector</a>)
 : void
</h3>

</div>
<div class="member function">
<h3>
 function updateCenter()
 : void
</h3>

</div>
<div class="member function">
<h3>
override function toString()
 : string
</h3>

</div>
<div class="member function">
<h3>
override function draw(engine : <a href="jsx/engine.jsx.html#class-Engine">Engine</a>)
 : boolean
</h3>

</div>
</div>
<div class="class" id="class-Model">
<h2> class Model</h2>
<div class="description">
複数のPolygonを内包するオブジェクトモデルクラス このクラスは、Z-sortを行う必要の無い、1つのまとまりとして扱うことのできるPolygonの集合のクラスである 例えば立方体や球などでは、裏側のPolygonは隠面消去するため、Z-sortを行わなくても自然に描画できる そのような3Dオブジェクトの場合、このクラスを利用することにより高速化ができる 大きな3Dオブジェクトの場合、適切なcenter座標を指定できず、一部のPolygonを表示したい場合でもisHidden関数により描画されない場合がある その場合は、ignoringZHiddenをtrueにすることで全てのPolygonの描画を試みるが、前後関係が正しく表示されない可能性がある TODO: クラス名を変更する
</div>
<div class="member property">
<h3>
 var polygons : <a href="jsx/list.jsx.html#class-List">List</a>.&lt;<a href="jsx/engine.jsx.html#class-Polygon">Polygon</a>&gt;
</h3>

</div>
<div class="member property">
<h3>
 var ignoringZHidden : boolean
</h3>

</div>
<div class="member function">
<h3>
new Model(polygons : <a href="jsx/list.jsx.html#class-List">List</a>.&lt;<a href="jsx/engine.jsx.html#class-Polygon">Polygon</a>&gt;, center : <a href="jsx/vector.jsx.html#class-Vector">Vector</a>)
</h3>

</div>
<div class="member function">
<h3>
new Model(polygons : <a href="jsx/list.jsx.html#class-List">List</a>.&lt;<a href="jsx/engine.jsx.html#class-Polygon">Polygon</a>&gt;, center : <a href="jsx/vector.jsx.html#class-Vector">Vector</a>, ignoringZHidden : boolean)
</h3>

</div>
<div class="member function">
<h3>
override function applyWorldMatrix(worldMatrix : <a href="jsx/matrix.jsx.html#class-Matrix">Matrix</a>)
 : void
</h3>

</div>
<div class="member function">
<h3>
override function applyViewMatrix(viewMatrix : <a href="jsx/matrix.jsx.html#class-Matrix">Matrix</a>)
 : void
</h3>

</div>
<div class="member function">
<h3>
override function isHidden(camera : <a href="jsx/engine.jsx.html#class-Camera">Camera</a>)
 : boolean
</h3>

</div>
<div class="member function">
<h3>
override function draw(engine : <a href="jsx/engine.jsx.html#class-Engine">Engine</a>)
 : boolean
</h3>

</div>
</div>
<div class="class" id="class-SmoothTexture">
<h2> class SmoothTexture</h2>
<div class="description">
アフィン変換を用いて高速にテクスチャを描画するクラス 裏柄からみた場合は、反転して表示する TODO: 継承関係を直す
</div>
<div class="member property">
<h3>
 var src : string
</h3>

</div>
<div class="member property">
<h3>
 var image : HTMLImageElement
</h3>

</div>
<div class="member property">
<h3>
 var width : number
</h3>

</div>
<div class="member property">
<h3>
 var height : number
</h3>

</div>
<div class="member property">
<h3>
 var maxHorizontalDiv : int
</h3>

</div>
<div class="member property">
<h3>
 var maxVerticalDiv : int
</h3>

</div>
<div class="member property">
<h3>
 var maxDiv : int
</h3>

</div>
<div class="member property">
<h3>
 var minDiv : int
</h3>

</div>
<div class="member function">
<h3>
new SmoothTexture(vertices : Array.&lt;<a href="jsx/vector.jsx.html#class-Vector">Vector</a>&gt;, src : string)
</h3>

</div>
<div class="member function">
<h3>
new SmoothTexture(vertices : Array.&lt;<a href="jsx/vector.jsx.html#class-Vector">Vector</a>&gt;, src : string, maxHorDiv : int, maxVerDiv : int, maxDiv : int, minDiv : int)
</h3>

</div>
<div class="member function">
<h3>
override function applyWorldMatrix(worldMatrix : <a href="jsx/matrix.jsx.html#class-Matrix">Matrix</a>)
 : void
</h3>

</div>
<div class="member function">
<h3>
override function applyViewMatrix(viewMatrix : <a href="jsx/matrix.jsx.html#class-Matrix">Matrix</a>)
 : void
</h3>

</div>
<div class="member function">
<h3>
override function isHidden(camera : <a href="jsx/engine.jsx.html#class-Camera">Camera</a>)
 : boolean
</h3>

</div>
<div class="member function">
<h3>
override function draw(engine : <a href="jsx/engine.jsx.html#class-Engine">Engine</a>)
 : boolean
</h3>

</div>
</div>
<div class="class" id="class-Billboard">
<h2> class Billboard</h2>
<div class="description">
billboard(どの方向から見ても同じ画像を表示するオブジェクト)を表すクラス
</div>
<div class="member property">
<h3>
 var width : number
</h3>

</div>
<div class="member property">
<h3>
 var height : number
</h3>

</div>
<div class="member property">
<h3>
 var src : string
</h3>

</div>
<div class="member property">
<h3>
 var image : HTMLImageElement
</h3>

</div>
<div class="member function">
<h3>
new Billboard(center : <a href="jsx/vector.jsx.html#class-Vector">Vector</a>, width : number, height : number, src : string)
</h3>

</div>
<div class="member function">
<h3>
override function applyWorldMatrix(worldMatrix : <a href="jsx/matrix.jsx.html#class-Matrix">Matrix</a>)
 : void
</h3>

</div>
<div class="member function">
<h3>
override function applyViewMatrix(viewMatrix : <a href="jsx/matrix.jsx.html#class-Matrix">Matrix</a>)
 : void
</h3>

</div>
<div class="member function">
<h3>
override function isHidden(camera : <a href="jsx/engine.jsx.html#class-Camera">Camera</a>)
 : boolean
</h3>

</div>
<div class="member function">
<h3>
override function draw(engine : <a href="jsx/engine.jsx.html#class-Engine">Engine</a>)
 : boolean
</h3>

</div>
</div>
</div>
</div>

<div id="footer">
This document was automatically generated by <a href="http://jsx.github.com/">JSX</a>.
</div>
</div>
</body>
</html>
